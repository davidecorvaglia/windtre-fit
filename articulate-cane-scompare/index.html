<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Storyline + Virtway Wrapper</title>
  <style>
    /* Pagina total black, iframe a pieno schermo */
    html, body {
      height: 100%;
      margin: 0;
      background: #000;
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .frame {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
      background: #000;
    }
    /* Piccolo badge di diagnostica opzionale (puoi rimuoverlo) */
    .badge {
      position: fixed;
      left: 12px;
      bottom: 12px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 8px;
      padding: 6px 10px;
      font-size: 12px;
      color: #ddd;
      user-select: none;
    }
  </style>
</head>
<body>

  <!-- Carica il file principale di Storyline (nello stesso dominio/cartella) -->
  story.html</iframe>

  <div class="badge" id="badge">Virtway: init…</div>

  <!-- Import OBBLIGATORIO della libreria Virtway (PDF §2 e §6) -->
  <script type="module">
    import Virtway from "https://static.virtway.com/webgl/libs/virtway-latest.min.js"; // [1](https://intranet3-my.sharepoint.com/personal/davide_corvaglia_windtre_it/Documents/File%20chat%20di%20Microsoft%20Copilot/interaction_with_3d_object_from_external_web%20(002).pdf).pdf)

    // Esponi Virtway globalmente per l’iframe Storyline (child -> parentchild -> parent.Virtway)
    window.Virtway = Virtway;

    // Piccolo test di diagnostica
    const badge = document.getElementById('badge');
    try {
      if (window.Virtway && typeof window.Virtway.playAnimation === 'function') {
       ion') {
        badge.textContent = 'Virtway pronto ✔';
      } else {
        badge.textContent = 'Virtway non disponibile ❗';
        console.warn('Virtway non disponibile o funzioni non caricate.');
      }
    } catch (e) {
      badge.textContent = 'Errore Virtway ❗';
      console.error(e);
    }
  </script>

  <!-- Suggerimento: puoi anche combinare azioni da URL:
       story-wrapper.html?action[]=playAnimation:door,open,true
       (La  (La pagina deve comunque importare la libreria: requisito del PDF §6)  [1](https://intranet3-my.sharepoint.com/personal/davide_corvaglia_windtre_it/Documents/File%20chat%20di%20Microsoft%20Copilot/interaction_with_3d_object_from_external_web%20(002).pdf).pdf) -->
</body>
</html>